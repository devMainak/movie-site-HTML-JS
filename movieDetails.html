<!DOCTYPE html>
<html>
  <head>
    <title>Movie Details</title>
  </head>
  <body>
    <header>
      <a href="index.html">Movie Database</a>
      <nav>
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="movies.html">Movies</a></li>
          <li><a href="report.html">Report</a></li>  
        </ul>
        <h1>Movie Details</h1>
      </nav>
    </header>
    <main>
      <section id="movie-details">
        
      </section>
    </main>
    <footer>
      <p>&copy; 2023 Company Name. All rights reserved.</p>
    </footer>


    <script>

    let movieDetails = [
      {movie: "1", genre: "Action", details: "This is an action-packed movie.", releaseDate: "2023-01-15", director: "John Doe"},
      {movie: "2", genre: "Drama", details: "A dramatic story unfolds in this movie.", releaseDate: "2023-03-20", director: "Jane Smith"},
      {movie: "3", genre: "Comedy", details: "Get ready to laugh with this comedy.", releaseDate: "2023-05-20", director: "Jane Walk"}]

      //get movie from url
      function getParameterByMovie(movie)
      {
         let url = new URL(window.location.href);
        return url.searchParams.get(movie);
      };

      let movieId = getParameterByMovie('movie');

      //Find movie in the movie database
      let movie;
      for (let i = 0; i < movieDetails.length; i++)
      {
        if (movieId == movieDetails[i].movie)
        {
          movie = movieDetails[i];
        };
      };

      //Display movie details in the view
      let movieDetailsElement = document.getElementById('movie-details'); 
      if (movie)
      {
        movieDetailsElement.innerHTML = `<h2>Movie ${movie.movie}</h2>
        <p><strong>Genre: </strong>${movie.genre}</p>
        <p><strong>Details: </strong>${movie.details}</p>
        <p><strong>Release Date: </strong>${movie.releaseDate}</p>
        <p><strong>Director: </strong>${movie.director}</p>`
      }
      else
      {
      movieDetailsElement.innerHTML = `<p>Movie Details Not Found!</p>`  
      }
    </script>
  </body>
</html>